{"remainingRequest":"/home/andrey/dev/www/evoltrend.com/front/node_modules/babel-loader/lib/index.js!/home/andrey/dev/www/evoltrend.com/front/node_modules/eslint-loader/index.js??ref--13-0!/home/andrey/dev/www/evoltrend.com/front/src/mixings/submit_and_validate.js","dependencies":[{"path":"/home/andrey/dev/www/evoltrend.com/front/src/mixings/submit_and_validate.js","mtime":1571686006540},{"path":"/home/andrey/dev/www/evoltrend.com/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrey/dev/www/evoltrend.com/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/andrey/dev/www/evoltrend.com/front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from \"axios\";\nimport mixingValidator from \"./validators\";\nexport default {\n  mixins: [mixingValidator],\n  methods: {\n    submitForm: function submitForm() {\n      if (this.validateAll(this.fields)) {\n        this.submit(this.fields, this.api);\n        return true;\n      }\n\n      return false;\n    },\n    submit: function submit(fields, api) {\n      var _this = this;\n\n      this.loading = true;\n      axios.post(api, fields).then(function (response) {\n        _this.loading = false;\n        _this.fields = response.data.data;\n\n        _this.$root.$emit(\"show-info\", {\n          text: \"Данные записаны\",\n          class: \"info\"\n        });\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    validateAll: function validateAll(fields) {\n      var noerror = true;\n\n      for (var index in fields) {\n        if (this.validate(index, fields[index])) {\n          noerror = false;\n        }\n      }\n\n      return noerror;\n    },\n    validate: function validate(field, value) {\n      if (this.validators[field]) {\n        return this.errors[field] = this.validator(this.validators[field], value);\n      }\n    }\n  }\n};",{"version":3,"sources":["/home/andrey/dev/www/evoltrend.com/front/src/mixings/submit_and_validate.js"],"names":["axios","mixingValidator","mixins","methods","submitForm","validateAll","fields","submit","api","loading","post","then","response","data","$root","$emit","text","class","catch","e","console","log","noerror","index","validate","field","value","validators","errors","validator"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP;AAEA,eAAe;AACXC,EAAAA,MAAM,EAAE,CAACD,eAAD,CADG;AAEXE,EAAAA,OAAO,EAAE;AACLC,IAAAA,UAAU,EAAE,sBAAW;AACnB,UAAI,KAAKC,WAAL,CAAiB,KAAKC,MAAtB,CAAJ,EAAmC;AAC/B,aAAKC,MAAL,CAAY,KAAKD,MAAjB,EAAyB,KAAKE,GAA9B;AACA,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KAPI;AAQLD,IAAAA,MAAM,EAAE,gBAASD,MAAT,EAAiBE,GAAjB,EAAsB;AAAA;;AAC1B,WAAKC,OAAL,GAAe,IAAf;AACAT,MAAAA,KAAK,CACAU,IADL,CACUF,GADV,EACeF,MADf,EAEKK,IAFL,CAEU,UAAAC,QAAQ,EAAI;AACd,QAAA,KAAI,CAACH,OAAL,GAAe,KAAf;AACA,QAAA,KAAI,CAACH,MAAL,GAAcM,QAAQ,CAACC,IAAT,CAAcA,IAA5B;;AACA,QAAA,KAAI,CAACC,KAAL,CAAWC,KAAX,CAAiB,WAAjB,EAA8B;AAC1BC,UAAAA,IAAI,EAAE,iBADoB;AAE1BC,UAAAA,KAAK,EAAE;AAFmB,SAA9B;AAIH,OATL,EAUKC,KAVL,CAUW,UAAAC,CAAC,EAAI;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,OAZL;AAaH,KAvBI;AAwBLd,IAAAA,WAAW,EAAE,qBAASC,MAAT,EAAiB;AAC1B,UAAIgB,OAAO,GAAG,IAAd;;AACA,WAAK,IAAIC,KAAT,IAAkBjB,MAAlB,EAA0B;AACtB,YAAI,KAAKkB,QAAL,CAAcD,KAAd,EAAqBjB,MAAM,CAACiB,KAAD,CAA3B,CAAJ,EAAyC;AACrCD,UAAAA,OAAO,GAAG,KAAV;AACH;AACJ;;AACD,aAAOA,OAAP;AACH,KAhCI;AAiCLE,IAAAA,QAAQ,EAAE,kBAASC,KAAT,EAAgBC,KAAhB,EAAuB;AAC7B,UAAI,KAAKC,UAAL,CAAgBF,KAAhB,CAAJ,EAA4B;AACxB,eAAQ,KAAKG,MAAL,CAAYH,KAAZ,IAAqB,KAAKI,SAAL,CACzB,KAAKF,UAAL,CAAgBF,KAAhB,CADyB,EAEzBC,KAFyB,CAA7B;AAIH;AACJ;AAxCI;AAFE,CAAf","sourcesContent":["import axios from \"axios\";\nimport mixingValidator from \"./validators\";\n\nexport default {\n    mixins: [mixingValidator],\n    methods: {\n        submitForm: function() {\n            if (this.validateAll(this.fields)) {\n                this.submit(this.fields, this.api);\n                return true;\n            }\n            return false;\n        },\n        submit: function(fields, api) {\n            this.loading = true;\n            axios\n                .post(api, fields)\n                .then(response => {\n                    this.loading = false;\n                    this.fields = response.data.data;\n                    this.$root.$emit(\"show-info\", {\n                        text: \"Данные записаны\",\n                        class: \"info\"\n                      });\n                })\n                .catch(e => {\n                    console.log(e);\n                });\n        },\n        validateAll: function(fields) {\n            var noerror = true;\n            for (var index in fields) {\n                if (this.validate(index, fields[index])) {\n                    noerror = false;\n                }\n            }\n            return noerror;\n        },\n        validate: function(field, value) {\n            if (this.validators[field]) {\n                return (this.errors[field] = this.validator(\n                    this.validators[field],\n                    value\n                ));\n            }\n        }\n    }\n};"]}]}