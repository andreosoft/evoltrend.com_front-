{"remainingRequest":"/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/node_modules/babel-loader/lib/index.js!/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/node_modules/eslint-loader/index.js??ref--13-0!/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/src/store/modules/user.js","dependencies":[{"path":"/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/src/store/modules/user.js","mtime":1544270585292},{"path":"/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport api from '@/config/api';\nvar state = {\n  profile: '',\n  status: ''\n};\nvar getters = {\n  profile: function profile(state) {\n    return JSON.parse(localStorage.getItem('user-profile'));\n  },\n  status: function status(state) {\n    return state.status;\n  }\n};\nvar actions = {\n  userInfo: function userInfo(_ref) {\n    var commit = _ref.commit,\n        dispatch = _ref.dispatch;\n    commit('loading');\n    axios({\n      url: api.token_user_info,\n      method: 'GET'\n    }).then(function (resp) {\n      if (resp.data.status == 'ok') {\n        commit('success', resp.data.data);\n        console.log('userInfo end');\n      }\n    }).catch(function (err) {\n      console.log(err); // commit('error', err)\n      // localStorage.removeItem('user-token')\n    });\n  }\n};\nvar mutations = {\n  loading: function loading(state) {\n    state.status = 'loading';\n  },\n  success: function success(state, resp) {\n    state.status = 'success';\n    localStorage.setItem('user-profile', JSON.stringify(resp)); // Vue.set(state, 'profile', resp)\n  },\n  error: function error(state) {\n    state.status = 'error';\n  },\n  logout: function logout(state) {\n    state.profile = {};\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};",{"version":3,"sources":["/home/andrey/dev/www/evoltrend.com/evoltrend.com_front/src/store/modules/user.js"],"names":["axios","api","state","profile","status","getters","JSON","parse","localStorage","getItem","actions","userInfo","commit","dispatch","url","token_user_info","method","then","resp","data","console","log","catch","err","mutations","loading","success","setItem","stringify","error","logout","namespaced"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,OAAO,EAAE,EADG;AAEZC,EAAAA,MAAM,EAAE;AAFI,CAAd;AAKA,IAAMC,OAAO,GAAG;AACdF,EAAAA,OAAO,EAAE,iBAAAD,KAAK;AAAA,WAAII,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,CAAJ;AAAA,GADA;AAEdL,EAAAA,MAAM,EAAE,gBAAAF,KAAK;AAAA,WAAIA,KAAK,CAACE,MAAV;AAAA;AAFC,CAAhB;AAKA,IAAMM,OAAO,GAAG;AACdC,EAAAA,QAAQ,EAAE,wBAAwB;AAAA,QAAtBC,MAAsB,QAAtBA,MAAsB;AAAA,QAAdC,QAAc,QAAdA,QAAc;AAChCD,IAAAA,MAAM,CAAC,SAAD,CAAN;AACAZ,IAAAA,KAAK,CAAC;AAACc,MAAAA,GAAG,EAAEb,GAAG,CAACc,eAAV;AAA2BC,MAAAA,MAAM,EAAE;AAAnC,KAAD,CAAL,CACGC,IADH,CACQ,UAAAC,IAAI,EAAI;AACZ,UAAIA,IAAI,CAACC,IAAL,CAAUf,MAAV,IAAoB,IAAxB,EAA8B;AAC5BQ,QAAAA,MAAM,CAAC,SAAD,EAAYM,IAAI,CAACC,IAAL,CAAUA,IAAtB,CAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD;AACF,KANH,EAOCC,KAPD,CAOO,UAAAC,GAAG,EAAI;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,EADY,CAEZ;AACA;AACD,KAXD;AAYD;AAfa,CAAhB;AAkBA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,OAAO,EAAE,iBAACvB,KAAD,EAAW;AAClBA,IAAAA,KAAK,CAACE,MAAN,GAAe,SAAf;AACD,GAHe;AAIhBsB,EAAAA,OAAO,EAAE,iBAACxB,KAAD,EAAQgB,IAAR,EAAiB;AACxBhB,IAAAA,KAAK,CAACE,MAAN,GAAe,SAAf;AACAI,IAAAA,YAAY,CAACmB,OAAb,CAAqB,cAArB,EAAqCrB,IAAI,CAACsB,SAAL,CAAeV,IAAf,CAArC,EAFwB,CAGxB;AACD,GARe;AAShBW,EAAAA,KAAK,EAAE,eAAC3B,KAAD,EAAW;AAChBA,IAAAA,KAAK,CAACE,MAAN,GAAe,OAAf;AACD,GAXe;AAYhB0B,EAAAA,MAAM,EAAE,gBAAC5B,KAAD,EAAW;AACjBA,IAAAA,KAAK,CAACC,OAAN,GAAgB,EAAhB;AACD;AAde,CAAlB;AAiBA,eAAe;AACb4B,EAAAA,UAAU,EAAE,IADC;AAEb7B,EAAAA,KAAK,EAALA,KAFa;AAGbG,EAAAA,OAAO,EAAPA,OAHa;AAIbK,EAAAA,OAAO,EAAPA,OAJa;AAKbc,EAAAA,SAAS,EAATA;AALa,CAAf","sourcesContent":["import axios from 'axios'\nimport api from '@/config/api'\n\nconst state = {\n  profile: '',\n  status: '',\n}\n\nconst getters = {\n  profile: state => JSON.parse(localStorage.getItem('user-profile')),\n  status: state => state.status,\n}\n\nconst actions = {\n  userInfo: ({commit, dispatch}) => {\n    commit('loading')\n    axios({url: api.token_user_info, method: 'GET' })\n      .then(resp => {\n        if (resp.data.status == 'ok') {\n          commit('success', resp.data.data)\n          console.log('userInfo end');\n        }\n      })\n    .catch(err => {\n      console.log(err);\n      // commit('error', err)\n      // localStorage.removeItem('user-token')\n    })\n  },\n}\n\nconst mutations = {\n  loading: (state) => {\n    state.status = 'loading'\n  },\n  success: (state, resp) => {\n    state.status = 'success'\n    localStorage.setItem('user-profile', JSON.stringify(resp))\n    // Vue.set(state, 'profile', resp)\n  },\n  error: (state) => {\n    state.status = 'error'\n  },\n  logout: (state) => {\n    state.profile = {}\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  actions,\n  mutations\n}\n"]}]}